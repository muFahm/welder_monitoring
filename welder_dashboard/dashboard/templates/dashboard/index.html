{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Welder Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="stylesheet" href="{% static 'css/styles.css' %}">
</head>
<body>

  <div class="dashboard-container">
    <!-- Left Column - Sticky Sidebar -->
    <div class="left-column">
      <!-- Welder Profile -->
      <div class="welder-profile-card">
        <div class="welder-profile-header">
          <img id="welder-photo" src="{% static 'images/ahmad-fauzi.jpg' %}" alt="Welder Photo">
          <div class="welder-info">
            <h2 id="welder-name">Welder Name</h2>
            <p id="welder-email">email@example.com</p>
            <p id="welder-phone">+62-xxx</p>
          </div>
        </div>
        <div class="welder-details">
          <div class="detail-item">
            <span class="detail-label">Skills</span>
            <span class="detail-value" id="welder-skills">MIG, TIG, Arc Welding</span>
          </div>
          <div class="detail-item">
            <span class="detail-label">Experience</span>
            <span class="detail-value" id="welder-experience">5 Years</span>
          </div>
          <div class="detail-item">
            <span class="detail-label">Certification ID</span>
            <span class="detail-value" id="welder-cert-id">WLD-2024-001</span>
          </div>
          <div class="detail-item">
            <span class="detail-label">Certification Body</span>
            <span class="detail-value" id="welder-cert-body">AWS</span>
          </div>
          <div class="detail-item">
            <span class="detail-label">Expiry Date</span>
            <span class="detail-value" id="welder-cert-expiry">Dec 2025</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Right Column -->
    <div class="right-column">
      <!-- Left Stack: Current Time and Latest Activity -->
      <div class="left-stack">
        <!-- Current Time -->
        <div class="current-time-card">
          <h2>Current Time</h2>
          <p id="dashboard-clock"></p>
        </div>
        
        <!-- Latest Activity -->
        <div class="latest-activity-card">
          <h2>Latest Activity</h2>
          <p id="activity-label">-</p>
        </div>
      </div>

      <!-- Activity Distribution -->
      <div class="activity-distribution-card">
        <h2>Activity Distribution</h2>
        <canvas id="activity-pie"></canvas>
      </div>

      <!-- Timeline -->
      <div class="timeline-card">
        <h2>Timeline</h2>
        <div id="activity-timeline"></div>
      </div>

      <!-- Sensors Area -->
      <div class="sensors-area">
        <!-- Accelerometer Card -->
        <div class="sensor-card">
          <h2>Accelerometer</h2>
          <canvas id="accel-chart" class="sensor-chart"></canvas>
          <p class="sensor-values">X: <span id="accel-x">0.00</span>, 
            Y: <span id="accel-y">0.00</span>, Z: <span id="accel-z">0.00</span></p>
        </div>

        <!-- Gyroscope Card -->
        <div class="sensor-card">
          <h2>Gyroscope</h2>
          <canvas id="gyro-chart" class="sensor-chart"></canvas>
          <p class="sensor-values">X: <span id="gyro-x">0.00</span>, 
            Y: <span id="gyro-y">0.00</span>, Z: <span id="gyro-z">0.00</span></p>
        </div>

        <!-- Magnetometer Card -->
        <div class="sensor-card">
          <h2>Magnetometer</h2>
          <canvas id="mag-chart" class="sensor-chart"></canvas>
          <p class="sensor-values">X: <span id="mag-x">0.00</span>, 
            Y: <span id="mag-y">0.00</span>, Z: <span id="mag-z">0.00</span></p>
        </div>
      </div>

      <!-- Old sensor dashboard - hidden by CSS but kept for compatibility -->
      <div class="sensor-dashboard" style="display: none;">
        <div class="sensor-section">
          <h2>Accelerometer</h2>
          <canvas id="accel-chart-old" class="sensor-chart"></canvas>
          <p class="sensor-values">X: <span id="accel-x-old">0.00</span>, 
            Y: <span id="accel-y-old">0.00</span>, Z: <span id="accel-z-old">0.00</span></p>
        </div>
        
        <div class="sensor-section">
          <h2>Gyroscope</h2>
          <canvas id="gyro-chart-old" class="sensor-chart"></canvas>
          <p class="sensor-values">X: <span id="gyro-x-old">0.00</span>, 
            Y: <span id="gyro-y-old">0.00</span>, Z: <span id="gyro-z-old">0.00</span></p>
        </div>
        
        <div class="sensor-section">
          <h2>Magnetometer</h2>
          <canvas id="mag-chart-old" class="sensor-chart"></canvas>
          <p class="sensor-values">X: <span id="mag-x-old">0.00</span>, 
            Y: <span id="mag-y-old">0.00</span>, Z: <span id="mag-z-old">0.00</span></p>
        </div>
      </div>
    </div>
  </div>

  <script src="{% static 'js/dashboard.js' %}"></script>
</body>
</html>